---
date_created: 2024-05-28 14:14
author: 
date_published: 
url:
---
# 모듈 2 계정 보안

# 보안 주체 및 자격 증명

- **보안 주체(Principal)와 자격 증명(Credentials):**
    - 보안 주체는 AWS에서 작업을 수행하는 개체로, 대표적으로 AWS 계정 루트 사용자가 있습니다.
    - 자격 증명은 보안 주체의 인증을 의미하며, IAM을 통해 관리됩니다.
- **IAM(Identity and Access Management):**
    
    - IAM은 AWS 안에서 인증과 권한 부여를 담당하는 서비스입니다.
    - IAM 사용자를 생성하고 필요한 권한을 부여하여 보다 안전하게 AWS를 사용할 수 있습니다.
- **IAM 사용자와 권한 부여:**
    
    - IAM 사용자는 보안 주체로서 IAM 서비스에서 권한을 받아 특정 작업을 수행할 수 있습니다.
    - IAM 정책을 사용하여 IAM 사용자에게 필요한 권한을 부여할 수 있습니다.
- **IAM 정책과 최소 권한의 원칙:**
    
    - IAM 정책은 권한을 설정하는 데 사용됩니다.
    - 최소 권한의 원칙에 따라 필요한 권한만 부여하여 보안을 강화할 수 있습니다.
- **IAM 사용자 그룹:**
    
    - IAM 사용자 그룹에는 IAM 사용자를 할당하여 권한을 관리할 수 있습니다.
    - 그룹에 정책을 적용하여 권한을 일괄 부여할 수 있습니다.
- **IAM 역할(Role):**
    
    - IAM 역할은 AWS에서 사용할 수 있는 다른 형태의 인증 주체입니다.
    - 역할을 사용하여 일시적으로 사용자의 권한을 변경할 수 있습니다.

# 보안 정책

- **보안 정책의 유형**
    
    - 최대 권한을 설정하는 유형
        - IAM 권한 경계
        - AWS Organizations 서비스 제어 정책 (SCP)
    - 권한 부여의 유형
        - IAM 자격 증명 기반 정책
            - 사용자, 그룹, 또는 역할에 할당됨
        - IAM 리소스 기반 정책
            - AWS 리소스에 할당됨 (예: S3 버킷, DynamoDB 테이블)
![](Pasted%20image%2020240528154747.png)
- **자격 증명 기반 정책의 유형**
    
    - AWS 관리형 정책
        - AmazonEC2FullAccess, AmazonEC2ReadOnly 등
        - Amazon이 관리함 (자동 업데이트)
        - 직무별 그룹화 가능 (예: AdministratorAccess, Billing, DataScientist)
    - 고객 관리형 정책
        - 사용자가 직접 생성
        - 특정 요구사항에 따라 제한적인 권한 부여 가능
- **IAM 정책 문서의 구조**
    
    - Version: 정책 문서 버전
    - Effect: 작업 허용 또는 거부
    - Action: 수행할 작업
    - Resource: 작업 대상 리소스의 ARN
    - Condition: 작업을 허용하는 추가 조건
- **IAM 정책 평가 순서**
    
    1. 명시적인 거부 확인
    2. 명시적인 허용 확인
    3. 암시적인 거부 적용
    4. 권한 부여 결정
- **리소스 기반 정책의 구조**
    
    - Principal: 작업을 수행하는 보안 주체
    - Effect, Action, Resource: 자격 증명 기반 정책과 동일
    - Principal을 통해 보안 주체를 평가

## **정책 요소**

대부분의 정책은 JSON 문서로 AWS에 저장됩니다. JSON 정책 문서에는 다음 요소가 포함됩니다.

| 요소    | 설명                                                                                                                                                 |
| ----- | -------------------------------------------------------------------------------------------------------------------------------------------------- |
| 효과    | 허용 또는 거부를 사용하여 정책이 액세스를 허용하는지 아니면 거부하는지를 나타냅니다.                                                                                                    |
| 보안 주체 | 리소스 기반 정책을 생성하는 경우 액세스를 허용하거나 거부할 계정, 사용자, 역할 또는 페더레이션 사용자를 지정해야 합니다. 사용자나 역할에 연결할 IAM 권한 정책을 생성할 경우 이 요소를 포함할 수 없습니다. 보안 주체는 해당 사용자 또는 역할을 의미합니다. |
| 작업    | 정책이 허용하거나 거부하는 작업 목록을 포함합니다.                                                                                                                       |
| 리소스   | IAM 권한 정책을 생성하는 경우 작업이 적용되는 리소스 목록을 지정해야 합니다. 리소스 기반 정책을 생성하는 경우 이 요소는 선택 사항입니다. 이 요소를 포함하지 않으면 작업이 적용되는 리소스가 정책이 연결된 리소스가 됩니다.                    |
| 조건    | 정책이 권한을 부여하는 상황을 지정합니다.                                                                                                                            |

- **IAM 정책 평가의 심층 방어**
    
    - 다양한 위치에서 정책 평가
        - 사용자, 역할, 그룹
        - VPC 엔드포인트, S3 버킷 등
- **권한 경계 정책**
    
    - 최대 권한만 설정
    - 자격 증명 기반 정책의 공통된 부분만 적용

# 다중 계정 관리

- **다중 계정 사용 이유**
    
    - 보안 및 규정 준수를 위해
        - 프로덕션 데이터 접근 제한
        - 보안 사고 시 피해 최소화
    - 규제 요구 사항 준수
        - 특정 계정에 제한적인 요구 사항 적용 필요
    - 관리 및 비용 효율성
        - 각 팀 또는 역할에 맞는 계정으로 구분하여 관리
        - 개발과 프로덕션 인프라 비용 분리 및 관리 용이
- **AWS Organizations의 역할**
    
    - 다중 계정 관리 및 그룹화
    - 서비스 제어 정책(SCP)을 통한 최대 권한 설정
    - 통합 결제 및 청구서 관리
    - 루트 사용자 권한 제어
    - 계층적 방어 구현
- **IAM 정책과 SCP 상호 작용**
    
    - SCP: 최대 권한 필터 역할
    - IAM 정책과의 교차점에 있는 작업만 허용
    - 예: SCP는 EC2 및 S3 사용을 허용하고, IAM 정책은 EC2 및 IAM 사용을 허용하는 경우, 사용자에게는 EC2 작업만 허용됨
- **방어 계층에서의 정책 적용**
    
    - 서비스 제어 정책 최대 권한 확인
    - 권한 경계 확인
    - 자격 증명 기반 정책 확인
    - 세 가지 조건을 모두 충족하면 작업 허용
